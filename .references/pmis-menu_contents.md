# PMIS 메뉴 콘텐츠 상세 정리

> **작성일**: 2026-02-17  
> **프로젝트**: 인천소방학교 이전 신축공사 EVMS Dashboard  
> **파일 경로**: `js/pages/*.js`  
> **데이터 소스**: `step6_evms.csv` → SQLite (sql.js)

---

## 목차

1. [프로젝트 개요 (Overview)](#1-프로젝트-개요-overview)
2. [원가관리 (Cost Management)](#2-원가관리-cost-management)
3. [공정관리 (Schedule Management)](#3-공정관리-schedule-management)
4. [자재관리 (Material & Quantity Management)](#4-자재관리-material--quantity-management)
5. [조직관리 (Subcontractor Management)](#5-조직관리-subcontractor-management)
6. [진도관리 (EVMS)](#6-진도관리-evms)
7. [생산성관리 (Productivity Management)](#7-생산성관리-productivity-management)

---

## 1. 프로젝트 개요 (Overview)

**파일**: `js/pages/overview.js`  
**렌더 함수**: `renderOverviewPage(container)`

### 레이아웃 구조

```
┌─────────────────────────────────────────────────┐
│  ROW 1: 이미지 캐러셀 (2fr) │ 사업 개요 (3fr)  │
├─────────────────────────────────────────────────┤
│  ROW 2: KPI 미니카드 4개 (1fr × 4)             │
├─────────────────────────────────────────────────┤
│  ROW 2-2: KPI 미니카드 4개 (면적당 단가)        │
├─────────────────────────────────────────────────┤
│  ROW 3: 동별 ㎡당 공사비 (55%) │ 차트 (45%)    │
├─────────────────────────────────────────────────┤
│  ROW 4: 비용 구성비 도넛 (35%) │ 적층바 (65%)  │
├─────────────────────────────────────────────────┤
│  ROW 5: 비용 상위 8 항목 테이블 (100%)          │
└─────────────────────────────────────────────────┘
```

### 카드별 상세

| # | 카드명 | 시각화 유형 | 데이터 소스 | 표시 항목 |
|---|--------|-----------|-----------|---------|
| 1-L | **이미지 캐러셀** | 슬라이드쇼 (5장) | `PROJECT_INFO.images[]` (정적) | 5초 자동 전환, 좌우 네비, 도트 인디케이터 |
| 1-R | **사업 개요** | 메타데이터 그리드 | `PROJECT_INFO` + DB 쿼리 | 과업명, 소재지, 용도, 구조, 규모, 최고높이, 대지면적, 건축면적, 연면적, 건폐율, 용적률, 주차, 승강기, 외부마감, 착공일, 준공예정일 |
| 2a | **KPI: 총 공사비** | 미니 KPI 카드 | `DB.getProjectSummary()` | 금액 (억원 단위) |
| 2b | **KPI: 품목 수** | 미니 KPI 카드 | `DB.getProjectSummary()` | N건 |
| 2c | **KPI: 건물** | 미니 KPI 카드 | `DB.getProjectSummary()` | N동 |
| 2d | **KPI: 재/노비** | 미니 KPI 카드 | `DB.getProjectSummary()` | 재료비% / 노무비% |
| 2e | **KPI: 연면적 당** | 미니 KPI 카드 | 계산식 | 총공사비 ÷ 연면적 → 만원/㎡ |
| 2f | **KPI: 건축면적 당** | 미니 KPI 카드 | 계산식 | 총공사비 ÷ 건축면적 → 만원/㎡ |
| 2g | **KPI: 대지면적 당** | 미니 KPI 카드 | 계산식 | 총공사비 ÷ 대지면적 → 만원/㎡ |
| 2h | **KPI: 용적률산정 당** | 미니 KPI 카드 | 계산식 | 총공사비 ÷ 용적률산정면적 → 만원/㎡ |
| 3-L | **동별 ㎡당 공사비** | 데이터 테이블 | `DB.getCostByBuilding()` + `PROJECT_INFO.buildings` | 동명, 연면적, 공사비, ㎡당 단가 |
| 3-R | **동별 ㎡당 비교** | 가로 막대 차트 (Chart.js) | 위와 동일 | 만원/㎡ 비교 |
| 4-L | **비용 구성비** | 도넛 차트 (Chart.js) | `DB.getCostComposition()` | 재료비, 노무비, 경비 비율 |
| 4-R | **동별 공사비 분포** | 적층 막대 차트 (Chart.js) | `DB.getCostByBuilding()` | 동별 재료/노무/경비 적층 |
| 5 | **비용 상위 8 항목** | 데이터 테이블 | `DB.getTopNItems(8)` | 동, 대공종, 작업명, 품명, 합계금액 |

---

## 2. 원가관리 (Cost Management)

**파일**: `js/pages/cost.js`  
**렌더 함수**: `renderCostPage(container)`

### 레이아웃 구조

```
┌─────────────────────────────────────────────────┐
│  ROW 1: 현행 집행률 │ 예산vs실적 │ CV 바차트    │
│         (1fr × 3)                               │
├─────────────────────────────────────────────────┤
│  ROW 2: 비용구성 도넛 │ 월자금소요 │ Top4 공종  │
│         (1fr × 3)                               │
├─────────────────────────────────────────────────┤
│  ROW 3: 공사별비용 도넛│전체상위70%│건축 대공종  │
│         (1fr × 3)                               │
├─────────────────────────────────────────────────┤
│  ROW 4: 토목 대공종 │ 조경 대공종 │ 기계설비    │
│         (1fr × 3)                               │
├─────────────────────────────────────────────────┤
│  ROW 5: 비용 상위 15 항목 테이블 (100%)          │
└─────────────────────────────────────────────────┘
```

### 카드별 상세

| # | 카드명 | 시각화 유형 | 데이터 소스 | 표시 항목 |
|---|--------|-----------|-----------|---------|
| 1a | **현행 집행률** | KPI + 적층 막대 차트 | `DB.calculateEvmsMetrics()` | 집행률(%), 예산/집행 금액, 건축/토목/조경/기계설비별 적층 바 |
| 1b | **예산 vs 실적** | 프로그레스바 + 손익 리스트 | `DB.getCostByTrade()` | 실행예산 편성률(%), 공종별 손익(도급액, 실투입, 손익) 상위 5개 |
| 1c | **Cost Variance (CV)** | KPI + 막대 차트 | EVMS 계산 | CPI 값, 상태, EAC, 월별 CV 바 (과거3 + 현재 + 미래2 = 6개월) |
| 2a | **비용 구성 (재료/노무/경비)** | 도넛 차트 | `DB.getCostComposition()` | 3대 비용 요소 구성비(%와 금액) |
| 2b | **월 자금 소요 계획** | KPI + 리스트 | SQL 쿼리 (WHEN2종료일 기준) | 다음달 자금소요, 향후 3개월 예정, 3개월 평균 대비, 누적집행예정, 잔여예산 |
| 2c | **Top 4 중점 관리 공종** | 아이콘 + 진행바 | `DB.getCostByTrade()` | 공종명, 금액, 비중(%), 진행 바 |
| 3a | **공사 별 비용** | 도넛 차트 | `DB.getCostByConstruction()` | 건축/토목/조경/기계설비 비용 도넛 |
| 3b | **전체 상위 70% 주요 대공종** | 가로 막대 차트 | `DB.getCostByTrade()` | 누적 70%에 도달하는 대공종들의 합계금액 |
| 3c | **상위 8개 건축 대공종** | 가로 막대 차트 | `DB.getCostByTradeFiltered('A')` | A-prefix 대공종 상위 8개 |
| 4a | **상위 8개 토목 대공종** | 가로 막대 차트 | `DB.getCostByTradeFiltered('B')` | B-prefix 대공종 상위 8개 |
| 4b | **상위 8개 조경 대공종** | 가로 막대 차트 | `DB.getCostByTradeFiltered('C')` | C-prefix 대공종 상위 8개 |
| 4c | **상위 8개 기계설비 대공종** | 가로 막대 차트 | `DB.getCostByTradeFiltered('D')` | D-prefix 대공종 상위 8개 |
| 5 | **비용 상위 15 항목** | 데이터 테이블 | `DB.getTopNItems(15)` | 동, 대공종, 작업명, 품명, 합계금액 |

---

## 3. 공정관리 (Schedule Management)

**파일**: `js/pages/schedule.js`  
**렌더 함수**: `renderSchedulePage(container)`

### 레이아웃 구조

```
┌─────────────────────────────────────────────────┐
│  ROW 1: KPI 4단 — 공정률 │ 공사기간 │          │
│         이번달주요공정 │ SPI 게이지              │
├─────────────────────────────────────────────────┤
│  ROW 2: 공정표 탭 카드 (100%)                    │
│  [마일스톤│예정│전체│분기│주간]                    │
│  → Gantt 차트 또는 외부 파일 임베딩               │
├─────────────────────────────────────────────────┤
│  ROW 3: 월별작업건수│공사별공기│월별예산추이       │
│         (1fr × 3)                               │
├─────────────────────────────────────────────────┤
│  ROW 4: 공종별 일정 상세 테이블 (100%)            │
└─────────────────────────────────────────────────┘
```

### 카드별 상세

| # | 카드명 | 시각화 유형 | 데이터 소스 | 표시 항목 |
|---|--------|-----------|-----------|---------|
| 1a | **공정률** | KPI + 이중 프로그레스바 | EVMS 계산 | 현행 공정률(%), 예정 공정률(%), 이중 프로그레스 바 |
| 1b | **공사기간** | 텍스트 정보 카드 | DB 쿼리 (MIN/MAX) | 착공일, 준공예정일, D-day |
| 1c | **이번 달 주요 공정** | 번호 리스트 | 하드코딩 | 3개 주요 공정 (본관동 B1F 골조, 철골, 되메우기) |
| 1d | **SPI 게이지** | 반원 SVG 게이지 | EVMS 계산 | SPI 값, 진행 아크, 상태 메시지 |
| 2 | **공정표 (5개 탭)** | Gantt 차트 / iframe | DB + 외부 파일 | 아래 참조 |
| ├ | 마일스톤 탭 | ◆ 다이아몬드 마커 | `DB.getProjectMilestones()` | 착공, 토공완료, 골조상량, 수전/시운전, 준공 |
| ├ | 예정 탭 | PDF iframe | `output/planned_schedule.pdf` | 예정 공정표 PDF 뷰어 (새 창/다운로드) |
| ├ | 전체 탭 | WBS Roll-up Gantt | `DB.getOutlineScheduleData()` | 전체 작업 공정표 (그룹별 롤업) |
| ├ | 분기 탭 | Gantt 차트 / iframe | `DB.getHierarchicalGantt()` 또는 `output/quarter_schedule.html` | 현재 분기 공정표 |
| └ | 주간 탭 | Gantt 차트 / iframe | `DB.getHierarchicalGantt()` 또는 `output/week_schedule.html` | 이번 주 공정표 |
| 3a | **월별 작업 (내역) 건수** | 막대 차트 | `DB.getScheduleTimeline()` | 월별 작업 건수 분포 |
| 3b | **공사별 공사 기간** | 가로 막대 + 탭 | SQL 쿼리 (HOW2 prefix 기준) | 건축/토목/조경/기계 탭 전환, 대공종별 총 span(일) |
| 3c | **월별 예산 투입 추이** | 꺾은선 차트 (fill) | SQL 쿼리 (WHEN2종료일 기준) | 월별 예산 합계 흐름 |
| 4 | **공종별 일정 상세** | 데이터 테이블 | `DB.getDurationByTrade()` | 대공종, 품목수, 평균공기, 최대공기, 시작일, 종료일 |

---

## 4. 자재관리 (Material & Quantity Management)

**파일**: `js/pages/quantity.js`  
**렌더 함수**: `renderQuantityPage(container)`

### 레이아웃 구조

```
┌─────────────────────────────────────────────────┐
│  ROW 1: 주요 자재 현황판 (Big 3) — 100%          │
├─────────────────────────────────────────────────┤
│  ROW 2: KPI 4단 (총품목, 재료비, Top10, 공급업체)│
├─────────────────────────────────────────────────┤
│  ROW 3: ABC 분석 차트 (3fr) │ 로스율 관리 (2fr) │
├─────────────────────────────────────────────────┤
│  ROW 4: 자재 수불부 (1fr) │ 업체별 공급 (1fr)   │
├─────────────────────────────────────────────────┤
│  ROW 5: 설계변경 대비 시나리오 — 100%            │
├─────────────────────────────────────────────────┤
│  ROW 6: 자재 문서 자동 생성 — 100%               │
├─────────────────────────────────────────────────┤
│  ROW 7: 공사분류별 주요 자재 (탭) — 100%          │
└─────────────────────────────────────────────────┘
```

### 카드별 상세

| # | 카드명 | 시각화 유형 | 데이터 소스 | 표시 항목 |
|---|--------|-----------|-----------|---------|
| 1 | **주요 자재 현황판 (Big 3)** | 3단 대형 패널 | `extractBig3(topRows)` | 레미콘/철근/시멘트 각각: 수량, 금액, 비중, 시장가 추이 미니바 |
| 2a | **총 품목 수** | KPI 카드 | `DB.getQuantityByTrade()` | N건, N개 공종 |
| 2b | **총 재료비** | KPI 카드 | 상위 20개 합산 | N억원, 전체 대비 N% |
| 2c | **Top 10 집중도** | KPI 카드 | `calcTop10Ratio()` | Pareto 분석: 상위 10개 비중(%) |
| 2d | **공급 업체 수** | KPI 카드 | `countUnique()` | N개사 |
| 3a | **상위 10대 고비용 자재 (ABC)** | 복합 차트 (막대+누적선) | `DB.getTopCostMaterials(20)` | 품명, 재료비 바, 누적 비율 꺾은선 |
| 3b | **로스율 관리** | 진행바 + 알림 리스트 | Big 3 데이터 기반 시뮬레이션 | 품명별 기준 로스율, 현재 로스율, 상태 (정상/주의/초과) |
| 4a | **자재 수불부** | 테이블 (검색 가능) | Top 20 기반 시뮬레이션 | 품명, 규격, 입고, 출고, 재고, 상태 |
| 4b | **업체별 자재 공급 현황** | 리스트 + 진행바 | `DB.getSupplierMaterials()` | 업체명, 공급 품목수, 공급 금액, 비중 |
| 5 | **설계변경 대비 시나리오** | 시뮬레이션 테이블 | Top 20 기반 ±10~20% 변동 시뮬레이션 | 품명, 현재 수량/금액, 변경 후 수량/금액, 차이, 영향도 |
| 6 | **자재관리 주요 문서** | 문서 카드 그리드 | 정적 + 생성기 | 4개 문서 샘플 (발주서, 검수보고서, 수불대장, 로스율 보고서) |
| 7 | **공사분류별 주요 자재** | 탭 + 테이블 | `DB.getTopMaterialsByConstruction()` | 4개 탭 (건축/토목/조경/기계설비), 각 탭 Top 20: 품명, 규격, 수량, 재료비, 합계, 비중 바 |

---

## 5. 조직관리 (Subcontractor Management)

**파일**: `js/pages/organization.js`  
**렌더 함수**: `renderOrganizationPage(container)`

### 레이아웃 구조

```
┌─────────────────────────────────────────────────┐
│  ROW 1: KPI 4단 (업체수, 금일투입, 계약금액,    │
│         평균 공정률)                             │
├─────────────────────────────────────────────────┤
│  ROW 2: 업체별 진도현황 (1fr) │ 공사비지급 (1fr)│
├─────────────────────────────────────────────────┤
│  ROW 3: 계약금액 순위 (3fr) │ 작업부하 트리맵    │
│                               (2fr)             │
├─────────────────────────────────────────────────┤
│  ROW 4: 업체별 공사 일정 Gantt 타임라인 — 100%   │
├─────────────────────────────────────────────────┤
│  ROW 5: 업체별 상세 현황 (Detail Grid) — 100%    │
├─────────────────────────────────────────────────┤
│  ROW 6: 월별 업체 동원 히트맵 — 100%             │
├─────────────────────────────────────────────────┤
│  ROW 7: 공종별 업체 투입 (1fr) │ 동별 투입 (1fr)│
├─────────────────────────────────────────────────┤
│  ROW 8: 기성 및 평가 현황 — 100%                 │
└─────────────────────────────────────────────────┘
```

### 카드별 상세

| # | 카드명 | 시각화 유형 | 데이터 소스 | 표시 항목 |
|---|--------|-----------|-----------|---------|
| 1a | **등록 업체 수** | KPI 카드 | `DB.getSubcontractorSummary()` | N개사, 진행/예정/완료 구분 |
| 1b | **금일 투입 업체** | KPI 카드 | 일정 데이터 필터링 | N개사, 기준일 표시 |
| 1c | **총 계약 금액** | KPI 카드 | 합산 계산 | N억원, 총 N건, 평균 N억/사 |
| 1d | **평균 공정률** | KPI + 프로그레스바 | 경과일수 기반 계산 | N%, 경과 N일/전체 N일 |
| 2a | **하도급 업체별 진도 현황** | 가로 막대 (실적 vs 계획) | `DB.getSubcontractorSummary()` | 업체별 실적 진도율, 계획 진도율, 달성률 |
| 2b | **업체별 공사비 지급 비용** | 적층 가로 막대 | `DB.getSubcontractorSummary()` | 기성금, 선급금, 미지급금 |
| 3a | **계약 금액 상위 업체** | 적층 가로 막대 (Chart.js) | `DB.getSubcontractorSummary()` Top10 | 업체별 재료비/노무비/경비 적층 |
| 3b | **작업 부하량 분포 (Treemap)** | SVG 트리맵 (커스텀) | `DB.getSubcontractorSummary()` | 업체별 작업 건수를 면적으로 시각화 |
| 4 | **업체별 공사 일정 Gantt** | SVG Gantt 타임라인 (커스텀) | `DB.getSubcontractorSchedule()` | 업체명, 시작일~종료일 바, 금액 비례 바 두께, 오늘 표시선 |
| 5 | **업체별 상세 현황 Grid** | 데이터 테이블 (멀티컬럼) | Summary + Schedule | 업체명, 품목수, 계약금액, 재료비, 노무비, 시작일, 종료일, 공기(일), 상태 |
| 6 | **월별 업체 동원 히트맵** | SVG 히트맵 (커스텀) | Schedule 데이터 분석 | 월(가로) × 업체(세로) 교차 히트맵, 색상 강도로 공사비 표시 |
| 7a | **공종별 업체 투입 (Trade)** | SVG 매트릭스 (커스텀) | `DB.getTradeCompanyMatrix()` | 대공종(행) × 업체(열) 교차표, ● 마커로 투입 여부 |
| 7b | **동별(Zone) 업체 투입** | SVG 매트릭스 (커스텀) | `DB.getZoneCompanyMatrix()` | 동(행) × 업체(열) 교차표, ● 마커와 건수 |
| 8 | **기성 및 평가 현황** | 복합 패널 (Placeholder) | Summary 기반 시뮬레이션 | 업체별 기성 현황, 누적 기성률, 평가 점수 |

---

## 6. 진도관리 (EVMS)

**파일**: `js/pages/evms.js`  
**렌더 함수**: `renderEvmsPage(container)`

### 레이아웃 구조

```
┌─────────────────────────────────────────────────┐
│  ROW 0: 종합 현황판 (Project Health Check)       │
│  [SPI 게이지] [CPI 게이지] [공정률 게이지]        │
├─────────────────────────────────────────────────┤
│  ROW 1: KPI 4단 — BAC, PV, EV, AC               │
├─────────────────────────────────────────────────┤
│  ROW 2: KPI 4단 — SV, CV, EAC, TCPI             │
├─────────────────────────────────────────────────┤
│  ROW 3: S-Curve (누적 PV/EV/AC) — 100%          │
├─────────────────────────────────────────────────┤
│  ROW 4: 분석지표 (1fr) │ 예상지표 (1fr)          │
├─────────────────────────────────────────────────┤
│  ROW 5: 월별 EVMS 트렌드 — 100%                  │
│  ※ 하단에 공정 진행률 히트맵 포함                  │
└─────────────────────────────────────────────────┘
```

### 카드별 상세

| # | 카드명 | 시각화 유형 | 데이터 소스 | 표시 항목 |
|---|--------|-----------|-----------|---------|
| 0 | **종합 현황판** | 반원 게이지 × 3 (SVG) | `DB.calculateEvmsMetrics()` | **SPI 게이지**: 0.7~1.3 범위, 5구간 색상(위험~우수), 바늘 애니메이션, 값 카운트업 |
|   |   |   |   | **CPI 게이지**: 동일 구조 |
|   |   |   |   | **공정률 게이지**: 계획 vs 실적 vs 예상, %, 색상 아크 |
|   |   |   |   | 상단 프로젝트 건강 상태 뱃지 (양호/주의/긴급) |
| 1a | **BAC (총예산)** | KPI 카드 | EVMS Metrics | 기준일 표시 |
| 1b | **PV (계획가치)** | KPI 카드 | EVMS Metrics | 현재 시점까지의 계획 가치 |
| 1c | **EV (실현가치)** | KPI 카드 | EVMS Metrics | 획득 가치 |
| 1d | **AC (실제비용)** | KPI 카드 | EVMS Metrics | 실제 지출 |
| 2a | **SV (일정차이)** | KPI 카드 (±컬러) | EV - PV | 양수=앞서감(녹색), 음수=뒤처짐(주황) |
| 2b | **CV (비용차이)** | KPI 카드 (±컬러) | EV - AC | 양수=절감(녹색), 음수=초과(주황) |
| 2c | **EAC (완료시 예상)** | KPI 카드 | BAC / CPI | BAC 초과 여부에 따라 색상 |
| 2d | **TCPI (잔여효율)** | KPI 카드 | (BAC-EV)/(BAC-AC) | 달성 가능성 판단 |
| 3 | **S-Curve** | Area 차트 (Chart.js) | `DB.getMonthlyCumulativePV()` | PV(계획), EV(실적), AC(비용) 3개 누적 곡선, 그라디언트 fill |
| 4a | **분석지표** | Bullet Graph + 분석행 | EVMS Metrics | EV vs PV, AC vs PV, 공정률 Bullet, SPI 분석행, CPI 분석행, SV 분석행, CV 분석행 |
|   |   |   |   | 각 행: 지표명, 값, 수식, 해석, 상태아이콘 |
| 4b | **예상지표** | 분석행 + 연장 패널 | EVMS 계산 | 기준일, 계약공기, 착공일, 계약준공일 |
|   |   |   |   | EAC (완료시 예상원가), VAC (완료시 원가차이) |
|   |   |   |   | TCPI (잔여효율지수) |
|   |   |   |   | 📅 **예상연장기간**: 수식(계약공기÷SPI-계약공기), 예상공사기간, 예상준공일 |
| 5 | **월별 EVMS 트렌드** | 복합 차트 (막대+꺾은선) | 월별 집계 SQL | 월별 PV/EV/AC(막대) + SPI/CPI(꺾은선), 공정 진행률 히트맵 |

### 게이지 차트 기술 사양

```
- SVG viewBox: 200 × 130
- 반원 아크: 반지름 75, 두께 14px
- 5단계 색상 구간: 위험(#EF4444), 경고(#F97316), 주의(#FBBF24), 양호(#84CC16), 우수(#22C55E)
- 바늘: var(--text-primary) fill, 스프링 바운스 애니메이션 (1.8s)
- 값: 카운트업 애니메이션 (0 → target), JetBrains Mono 폰트
- 눈금: 6개 (MIN~MAX 등분), #94A3B8 색상
- 구간 레이블: 위험, 경고, 주의, 양호, 우수
```

---

## 7. 생산성관리 (Productivity Management)

**파일**: `js/pages/productivity.js`  
**렌더 함수**: `renderProductivityPage(container)`

### 레이아웃 구조

```
┌─────────────────────────────────────────────────┐
│  ROW 1: KPI 4단 (자재소진SPI, 일일기성,         │
│         노무비투입률, 공기준수율)                  │
├─────────────────────────────────────────────────┤
│  ROW 2: 생산 속도 (100%) — 3단 콤보 차트         │
│  [레미콘 m³/일] [철근 Ton/일] [거푸집 m²/일]      │
├─────────────────────────────────────────────────┤
│  ROW 3: 노무비 히트맵 (3fr) │ 기성속도 게이지    │
│                                (2fr)             │
├─────────────────────────────────────────────────┤
│  ROW 4: 병목공정 분석 (1fr) │ 공기준수율 (1fr)   │
└─────────────────────────────────────────────────┘
```

### 카드별 상세

| # | 카드명 | 시각화 유형 | 데이터 소스 | 표시 항목 |
|---|--------|-----------|-----------|---------|
| 1a | **자재 소진 SPI** | KPI 카드 | EVMS SPI × 0.95 + 0.05 | 생산 정상/지연, ↑/↓ 트렌드 |
| 1b | **일일 기성 속도** | KPI 카드 | EV ÷ 365 | N만/일 |
| 1c | **노무비 투입률** | KPI 카드 | (AC × 0.45) ÷ BAC × 100 | N% |
| 1d | **공기 준수율** | KPI 카드 | 95 + SPI × 3 | N% |
| 2 | **생산 속도 — 주요 자재 일일 시공량** | 콤보 차트 × 3 (Chart.js) | 시뮬레이션 (SPI 기반) | 3개 자재 각각: 30일간 일별 계획(bar) vs 실적(line) |
|   | ├ 레미콘 | 막대 + 꺾은선 | planQty=50 | m³/일 단위 |
|   | ├ 철근 | 막대 + 꺾은선 | planQty=30 | Ton/일 단위 |
|   | └ 거푸집 | 막대 + 꺾은선 | planQty=120 | m²/일 단위 |
| 3a | **노무비 투입 강도 (히트맵)** | 커스텀 HTML 히트맵 | EVMS AC × 0.45 기반 시뮬레이션 | **9주 × 7일** 그리드, 셀 80px 너비 |
|   |   |   |   | 색상: 파랑(낮음) → 주황(중간) → 빨강(높음) |
|   |   |   |   | 각 셀에 N만 표시, 오늘 빨간 아웃라인 |
|   |   |   |   | 범례 + 인사이트 메시지 |
| 3b | **금액적 생산성 — 기성 속도** | 반원 게이지 (SVG) + 월별 미니바 | EVMS SPI | 게이지: 0~1.5 범위, 5구간 아크 |
|   |   |   |   | 바늘: var(--text-primary), 바운스 애니메이션 |
|   |   |   |   | 월별 SPI 추이 미니 가로바 (최근 수 개월) |
| 4a | **병목 공정 분석** | 리스트 + 타임바 | SQL 쿼리 (유휴 공정 탐색) | 공기 대비 유휴 기간 길거나 품목 수 적은 공정 |
|   |   |   |   | 공종명, 유휴기간(일), 품목수, 위험도 표시 |
| 4b | **하도급 업체별 공기 준수율** | 가로 막대 (Chart.js) | `DB.getSubcontractorSummary()` + `DB.getSubcontractorSchedule()` | 업체명, 준수율(%), ≥100% 녹색 / <100% 빨강 |

---

## 공통 컴포넌트 (Components API)

**파일**: `js/app.js` → `Components` 객체

| 함수명 | 용도 | 사용 예시 |
|--------|------|---------|
| `createCardHeader(title, icon)` | 카드 상단 제목 + 아이콘 | 모든 Glass Card 상단 |
| `createKPICard(title, value, icon, color, desc, trend)` | 표준 KPI 카드 | EVMS/생산성 KPI |
| `createDataTable(headers, rows, opts)` | 데이터 테이블 | 비용 상위, 일정 상세 |
| `createChart(id, type, data, options)` | Chart.js 차트 래퍼 | 모든 Canvas 차트 |
| `createBulletGraph(opts)` | 불릿 그래프 | EVMS 분석지표 |
| `formatCurrency(value)` | 금액 포맷팅 | N억원 형식 |
| `formatNumber(value)` | 숫자 포맷팅 | 콤마 구분 |
| `showDbNotReady()` | DB 미준비 안내 | 로딩 상태 |

---

## 데이터 흐름

```
step6_evms.csv
    └──→ sql.js (SQLite in-browser)
           └──→ DB 모듈 (js/db_modules.js)
                  ├── getProjectSummary()
                  ├── getCostComposition()
                  ├── getCostByBuilding()
                  ├── getCostByTrade()
                  ├── getCostByConstruction()
                  ├── getCostByTradeFiltered(prefix)
                  ├── getTopNItems(n)
                  ├── getScheduleTimeline()
                  ├── getDurationByTrade()
                  ├── getQuantityByTrade()
                  ├── getTopCostMaterials(n)
                  ├── getSupplierMaterials()
                  ├── getTradeQuantityPivot()
                  ├── getTopMaterialsByConstruction(filter, limit)
                  ├── calculateEvmsMetrics(date)
                  ├── getMonthlyCumulativePV()
                  ├── getSubcontractorSummary()
                  ├── getSubcontractorSchedule()
                  ├── getTradeCompanyMatrix()
                  ├── getZoneCompanyMatrix()
                  ├── getProductivityByTrade()
                  ├── getProjectMilestones()
                  ├── getOutlineScheduleData()
                  ├── getHierarchicalGantt(limit, where)
                  ├── runQuery(sql)
                  └── runScalar(sql)
```

---

## CSV 필드 설명 (주요 컬럼)

| 컬럼명 | 설명 | 사용 위치 |
|--------|------|---------|
| `WHERE1_동` | 건물(동) 구분 | 개요, 원가, 조직 |
| `HOW1_공사` | 공사 구분 (건축/토목/조경/기계설비) | 원가, 자재 |
| `HOW2_대공종` | 대공종 (A01_가설, B01_토공...) | 원가, 공정, 자재 |
| `HOW3_작업명` | 세부 작업명 | 공정 Gantt |
| `HOW4_품명` | 자재 품명 | 자재 |
| `HOW5_규격` | 자재 규격 | 자재 |
| `HOW6_단위` | 단위 | 자재 |
| `WHEN1_시작일` | 계획 시작일 | 공정 |
| `WHEN2종료일` | 계획 종료일 | 공정, 원가 |
| `R04_재료비_금액` | 재료비 | 원가, 자재 |
| `R07_노무비_금액` | 노무비 | 원가, 조직 |
| `R10_합계_금액` | 합계 금액 | 전 페이지 |
| `WHO1_하도급업체` | 하도급 업체명 | 조직 |
| `HOW7_수량` | 수량 | 자재 |

---

## 테마 대응

| 항목 | 라이트 테마 | 다크 테마 |
|------|-----------|---------|
| `--text-primary` | `#0F172A` | `#F1F5F9` |
| `--bg-card` | `#FFFFFF` | `#1E293B` |
| `--bg-main` | `#F1F5F9` | `#0F172A` |
| `--text-muted` | `#94A3B8` | `#64748B` |
| `--border-default` | `#E2E8F0` | `#334155` |
| 게이지 바늘 | `var(--text-primary)` | `var(--text-primary)` |
| 차트 텍스트 | 자동 (Chart.js defaults) | 자동 |

---

## 향후 확장 포인트

### `PROGRESS` 열 추가 시 변경 사항

CSV에 `PROGRESS` (0~100) 열을 추가하면:

```javascript
// 현재 (추정 기반)
EV = 종료일이 기준일 이전인 행들의 합계금액 합산

// 변경 후 (실적 기반)
EV = 각 행의 (R10_합계_금액 × PROGRESS / 100) 합산
```

**영향 받는 페이지**: 진도관리(EVMS), 원가관리, 공정관리, 생산성관리, 조직관리

---

> **본 문서는 PMIS 대시보드의 전체 콘텐츠 구조를 기록한 참조 문서입니다.**  
> **코드 수정 시 해당 카드의 데이터 소스와 시각화 유형을 확인한 후 작업하세요.**
